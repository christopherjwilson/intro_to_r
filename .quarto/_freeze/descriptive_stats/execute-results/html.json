{
  "hash": "5f3127ee2f5310f0512eb7e088b4986d",
  "result": {
    "markdown": "# Exploratory and descriptive analysis\n\nIn this section, we will cover the basics of exploratory and descriptive analysis in R. We will learn how to conduct some of the most common descriptive statistics, such as mean, median, mode, standard deviation, and variance. We will also look at basic distribution plots, such as histograms and box plots, to visualize the data.\n\n## Mean, median, and mode\n\n::: callout-tip\n## At the end of this section, you will be able to:\n\n- Calculate the mean, median, and mode of a dataset\n\n:::\n\n\nFor this section we will use the `album_sales` dataset, which we have already loaded in some of the videos. Let's start by loading the dataset and displaying the first few rows:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\n\n# Load the album_sales dataset. The location of the dataset will be different based on where you saved it on your computer.\n\nalbum_sales <- read.csv(\"Datasets/album_sales.csv\")\n\n# Display the first few rows of the dataset\n\nhead(album_sales)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n   Adverts Sales Airplay Attract   Genre\n1   10.256   330      43      10 Country\n2  985.685   120      28       7     Pop\n3 1445.563   360      35       7  HipHop\n4 1188.193   270      33       7  HipHop\n5  574.513   220      44       5   Metal\n6  568.954   170      19       5 Country\n```\n:::\n:::\n\nThe dataset contains 5 variables: Adverts, Sales, Airplay, Attract and Genre. We will focus on the `Sales` variable for this section.\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Calculate the mean of the Sales variable\n\nmean_sales <- mean(album_sales$Sales)\n\nmean_sales\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 193.2\n```\n:::\n:::\n\n\nLet's break down the code above:\n\n- We used the `mean()` function to calculate the mean of the `Sales` variable in the `album_sales` dataset. To do this, we specified the dataset `album_sales` and the variable `Sales` using the `$` operator.\n\n- The mean sales value is stored in the `mean_sales` variable.\n\nNext, let's calculate the median of the `Sales` variable:\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Calculate the median of the Sales variable\n\nmedian_sales <- median(album_sales$Sales)\n\nmedian_sales\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 200\n```\n:::\n:::\n\n\nThe code above calculates the median of the `Sales` variable in the `album_sales` dataset. The median sales value is stored in the `median_sales` variable.\n\nFinally, let's calculate the mode of the `Sales` variable. Unfortunately, R does not have a built-in function to calculate the mode. However, we do this in the following way: \n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Calculate the mode of the Sales variable\n\nalbum_sales$Sales %>%\n table() \n```\n\n::: {.cell-output .cell-output-stdout}\n```\n.\n 10  30  40  50  60  70  80  90 100 110 120 130 140 150 160 170 180 190 200 210 \n  1   1   3   1   5   6   3   4   8   5  10   3  11  12   5   4   8   8   7  13 \n220 230 240 250 260 270 280 290 300 310 320 330 340 360 \n  6  17   7  10   3   3   5   8   6   2   4   2   3   6 \n```\n:::\n:::\n\n\nWe can see from the output that the mode of the `Sales` variable is 210, since that value appears most frequently in the dataset (13 times).\n\n## Standard deviation and variance\n\n::: callout-tip\n## At the end of this section, you will be able to:\n\n- Calculate the standard deviation\n- Calculate the variance\n- Calculate the range of a dataset\n- Calculate the interquartile range (IQR)\n\n:::\n\nNext, let's calculate the standard deviation and variance of the `Sales` variable in the `album_sales` dataset:\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Calculate the standard deviation of the Sales variable\n\nsd_sales <- sd(album_sales$Sales)\n\nsd_sales\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 80.69896\n```\n:::\n:::\n\n\nThe code above calculates the standard deviation of the `Sales` variable in the `album_sales` dataset. The standard deviation value is stored in the `sd_sales` variable.\n\nNext, let's calculate the variance of the `Sales` variable:\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Calculate the variance of the Sales variable\n\nvar_sales <- var(album_sales$Sales)\n\nvar_sales\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 6512.322\n```\n:::\n:::\n\n\nThe code above calculates the variance of the `Sales` variable in the `album_sales` dataset. The variance value is stored in the `var_sales` variable.\n\n## Range and interquartile range\n\nThe range of a dataset is the difference between the maximum and minimum values. Let's calculate the range of the `Sales` variable in the `album_sales` dataset:\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Calculate the range of the Sales variable\n\nrange_sales <- range(album_sales$Sales)\n\nrange_sales\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1]  10 360\n```\n:::\n:::\n\n\nThe code above calculates the range of the `Sales` variable in the `album_sales` dataset. The range of the sales values is stored in the `range_sales` variable.\n\nThe interquartile range (IQR) is the difference between the 75th percentile (Q3) and the 25th percentile (Q1) of a dataset. Let's calculate the IQR of the `Sales` variable in the `album_sales` dataset:\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Calculate the interquartile range of the Sales variable\n\nIQR_sales <- IQR(album_sales$Sales)\n\nIQR_sales\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 112.5\n```\n:::\n:::\n\n\nThe code above calculates the interquartile range (IQR) of the `Sales` variable in the `album_sales` dataset. The IQR value is stored in the `IQR_sales` variable.\n\n<iframe src=\"https://teesside.cloud.panopto.eu/Panopto/Pages/Embed.aspx?id=812b3162-7a81-4f24-b227-b1be00d71d8c&autoplay=false&offerviewer=false&showtitle=false&showbrand=false&captions=false&interactivity=all\" height=\"338\" width=\"600\" style=\"border: 1px solid #464646;\" allowfullscreen allow=\"autoplay\" aria-label=\"Panopto Embedded Video Player\" aria-description=\"Descriptive Statistics\" ></iframe>\n\n\n## Distribution plots\n\n::: callout-tip\n\n## At the end of this section, you will be able to:\n\n- Create a histogram to visualize the distribution of a dataset\n\n- Create a box plot to visualize the distribution of a dataset\n\n:::\n\nNext, let's create a histogram to visualize the distribution of the `Sales` variable in the `album_sales` dataset:\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Create a histogram of the Sales variable\n\nhist(album_sales$Sales, main = \"Histogram of Sales\", xlab = \"Sales\", ylab = \"Frequency\", col = \"lightblue\")\n```\n\n::: {.cell-output-display}\n![](descriptive_stats_files/figure-html/unnamed-chunk-9-1.png){width=672}\n:::\n:::\n\n\nThe code above creates a histogram of the `Sales` variable in the `album_sales` dataset. The histogram displays the frequency of sales values in the dataset. The only required argument for the `hist()` function is the variable you want to plot. The `main`, `xlab`, `ylab`, and `col` arguments are optional and allow you to customize the appearance of the histogram.\n\nFinally, let's create a box plot to visualize the distribution of the `Sales` variable in the `album_sales` dataset:\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Create a box plot of the Sales variable\n\nboxplot(album_sales$Sales, main = \"Boxplot of Sales\", xlab = \"Sales\", col = \"lightblue\")\n```\n\n::: {.cell-output-display}\n![](descriptive_stats_files/figure-html/unnamed-chunk-10-1.png){width=672}\n:::\n:::\n\n\nThe code above creates a box plot of the `Sales` variable in the `album_sales` dataset. The box plot displays the distribution of sales values, including the median, quartiles, and outliers. The only required argument for the `boxplot()` function is the variable you want to plot. The `main`, `xlab`, and `col` arguments are optional and allow you to customize the appearance of the box plot.\n\n::: callout-info\n\nWe will learn more about plotting data with ggplot2 in another section. However, for now, we have used the base R functions `hist()` and `boxplot()` to create simple distribution plots.\n\n:::\n\n## Assessing the normality of data\n\n::: callout-tip\n\n## At the end of this section, you will be able to:\n\n- Assess the skewness and kurtosis of a dataset\n- Test the normality of a dataset using the Shapiro-Wilk test\n\n:::\n\nMany statistical tests assume that the data is normally distributed. When your data sample size is small, violation of the normaility assumption  could be an issue.  Let's assess the normality of the `Sales` variable in the `album_sales` dataset by calculating the skewness and kurtosis. In order to do this, we will use the `psych` package, which provides functions for calculating skewness and kurtosis. If you haven't installed the `psych` package yet, you can do so by running the following code:\n\n\n\n```r\n\n# Install the psych package if you haven't already\n\ninstall.packages(\"psych\")\n\n```\n\nNow, let's calculate the skewness and kurtosis of the `Sales` variable in the `album_sales` dataset:\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Load the psych package\n\nlibrary(psych)\n```\n\n::: {.cell-output .cell-output-stderr}\n```\nWarning: package 'psych' was built under R version 4.2.3\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\n\nAttaching package: 'psych'\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\nThe following objects are masked from 'package:ggplot2':\n\n    %+%, alpha\n```\n:::\n\n```{.r .cell-code}\n# Calculate the skewness of the Sales variable\n\nskew_sales <- skew(album_sales$Sales)\n\nskew_sales\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 0.0432729\n```\n:::\n\n```{.r .cell-code}\n# Calculate the kurtosis of the Sales variable\n\nkurt_sales <- kurtosi(album_sales$Sales)\n\nkurt_sales\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] -0.7157339\n```\n:::\n:::\n\n\nWhen interpreting the skewness and kurtosis values, remember that values of 0 indicate a normal distribution. \n\nWe can also test the normality of the `Sales` variable using the Shapiro-Wilk test. The null hypothesis of the Shapiro-Wilk test is that the data is normally distributed. Let's perform the Shapiro-Wilk test on the `Sales` variable in the `album_sales` dataset:\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Perform the Shapiro-Wilk test on the Sales variable\n\nshapiro.test(album_sales$Sales)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n\n\tShapiro-Wilk normality test\n\ndata:  album_sales$Sales\nW = 0.98479, p-value = 0.02965\n```\n:::\n:::\n\n\nThe output of the Shapiro-Wilk test includes the test statistic and the p-value. If the p-value is less than 0.05, we reject the null hypothesis and conclude that the data is not normally distributed. If the p-value is greater than 0.05, we fail to reject the null hypothesis and conclude that the data is normally distributed.\n\n<iframe src=\"https://teesside.cloud.panopto.eu/Panopto/Pages/Embed.aspx?id=fee835b9-57b5-4299-bc82-b1be00df5065&autoplay=false&offerviewer=false&showtitle=false&showbrand=false&captions=false&interactivity=all\" height=\"338\" width=\"600\" style=\"border: 1px solid #464646;\" allowfullscreen allow=\"autoplay\" aria-label=\"Panopto Embedded Video Player\" aria-description=\"Testing for normality\" ></iframe>\n\n::: callout-warning\n\n## Assessing normality\n\nThe shapiro-wilk test is sensitive to sample size. For small sample sizes, the test may be too conservative and reject the null hypothesis too often. For large sample sizes, the test may be too lenient and fail to reject the null hypothesis too often. Therefore, you should not rely solely on the Shapiro-Wilk test to assess the normality of your data. Visual inspection of the data using histograms and Q-Q plots is also recommended. Also remember that the central limit theorem states that the sampling distribution of the mean will be approximately normally distributed for large sample sizes, regardless of the distribution of the original data.\n\nWe could also use non-parametric bootstrapping methods to deal with non-normal data. We will cover this in a later section.\n\n:::\n\n\n",
    "supporting": [
      "descriptive_stats_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}