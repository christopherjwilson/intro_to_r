# create outcome data for each group
outcome1 <- rnorm(n, m1, sd =1)
outcome2 <- rnorm(n, m2, sd = 1)
# combine both of these groups into a single vector
outcome <- c(outcome1,outcome2)
# create the grouping variable
group1 <- rep("treatment", n)
group2 <- rep("control", n)
# combine both groups into a single vector
group <- c(group1,group2)
# put both variables into a dataframe
data <- data.frame(group, outcome)
# run a t-test
test <- t.test(data$outcome ~ data$group)
# get the p value and other results
pval <- test$p.value
ci_low <- test$conf.int[1]
ci_high <- test$conf.int[2]
is_sig <- test$p.value < 0.05
# make a data frame
results <- tibble(
pval,
ci_low,
ci_high,
is_sig
)
# return the results
return(results)
}
results_data <- list()
for (i in 1:10){
simdata <- sim_data(n,m1,m2)
results_data[i] <- simdata
}
bind_rows(results_data)
View(results_data)
sim_data <- function(n, m1,m2){
# create outcome data for each group
outcome1 <- rnorm(n, m1, sd =1)
outcome2 <- rnorm(n, m2, sd = 1)
# combine both of these groups into a single vector
outcome <- c(outcome1,outcome2)
# create the grouping variable
group1 <- rep("treatment", n)
group2 <- rep("control", n)
# combine both groups into a single vector
group <- c(group1,group2)
# put both variables into a dataframe
data <- data.frame(group, outcome)
# run a t-test
test <- t.test(data$outcome ~ data$group)
# get the p value and other results
pval <- test$p.value
ci_low <- test$conf.int[1]
ci_high <- test$conf.int[2]
is_sig <- test$p.value < 0.05
# make a data frame
results <- tibble(
pval,
ci_low,
ci_high,
is_sig
)
# return the results
results
}
results_data <- list()
for (i in 1:10){
simdata <- sim_data(n,m1,m2)
results_data[i] <- simdata
}
bind_rows(results_data)
View(results_data)
tibble(
pval,
ci_low,
ci_high,
is_sig
# return the results
}
tibble(
pval,
ci_low,
ci_high,
is_sig )
sim_data <- function(n, m1,m2){
# create outcome data for each group
outcome1 <- rnorm(n, m1, sd =1)
outcome2 <- rnorm(n, m2, sd = 1)
# combine both of these groups into a single vector
outcome <- c(outcome1,outcome2)
# create the grouping variable
group1 <- rep("treatment", n)
group2 <- rep("control", n)
# combine both groups into a single vector
group <- c(group1,group2)
# put both variables into a dataframe
data <- data.frame(group, outcome)
# run a t-test
test <- t.test(data$outcome ~ data$group)
# get the p value and other results
pval <- test$p.value
ci_low <- test$conf.int[1]
ci_high <- test$conf.int[2]
is_sig <- test$p.value < 0.05
# make a data frame
tibble(
pval,
ci_low,
ci_high,
is_sig )
# return the results
}
results_data <- list()
for (i in 1:10){
simdata <- sim_data(n,m1,m2)
results_data[i] <- simdata
}
bind_rows(results_data)
bind_rows(results_data) %>% as_tibble()
View(results_data)
for (i in 1:10){
simdata <- sim_data(n,m1,m2)
results_data[[i]] <- simdata
}
bind_rows(results_data)
data.frame(
pval,
ci_low,
ci_high,
is_sig )
}
results_data <- list()
for (i in 1:10){
simdata <- sim_data(n,m1,m2)
results_data[[i]] <- simdata
}
bind_rows(results_data)
results_data <- bind_rows(results_data)
power <- mean(results_data$is_sig)
n <- 20 # number of p per group
m1 <- 20 # mean g1
m2 <- 30 # mean g2
# create outcome data for group
outcome1 <- rnorm(n, m1, sd = 1)
outcome2 <- rnorm(n, m2, sd = 1)
outcome <- c(outcome1,outcome2)
group1 <- rep("control", n)
group2 <- rep("treatment", n)
group <- c(group1, group2)
data <- data.frame(group,outcome)
View(data)
mean(outcome1)
mean(outcome2)
test <- t.test(data$outcome ~ data$group)
test
pval <- test$p.value
is_sig <- test$p.value < 0.05
test$p.value
test
View(test)
sim_data <- function(n,m1,m2) {
# create outcome data for group
outcome1 <- rnorm(n, m1, sd = 1)
outcome2 <- rnorm(n, m2, sd = 1)
# combine both of these groups into a single vector
outcome <- c(outcome1,outcome2)
# create grouping variable
group1 <- rep("control", n)
group2 <- rep("treatment", n)
group <- c(group1, group2)
# combine into data frame
data <- data.frame(group,outcome)
# run a t-test
test <- t.test(data$outcome ~ data$group)
# get the values from t-test
pval <- test$p.value
is_sig <- test$p.value < 0.05
data.frame(pval, is_sig)
}
sim_data(n, m1, m2)
results_data <- list()
results_data <- list()
for(i in 1:100) {
sim_data(n,m1,m2)
results_data[[i]]
}
for(i in 1:10) {
sim_data(n,m1,m2)
results_data[[i]]
}
results_data <- list()
for(i in 1:100) {
simdata <-  sim_data(n,m1,m2)
results_data[[i]] <- simdata
}
results_data <- bind_rows(results_data)
View(results_data)
mean(results_data$is_sig)
for(i in 1:1000) {
simdata <-  sim_data(n,m1,m2)
results_data[[i]] <- simdata
}
results_data <- list()
for(i in 1:1000) {
simdata <-  sim_data(n,m1,m2)
results_data[[i]] <- simdata
}
#bind the rows
results_data <- bind_rows(results_data)
mean(results_data$is_sig)
View(results_data)
n <- 15 # number of p per group
m1 <- 20 # mean g1
m2 <- 30 # mean g2
sim_data <- function(n,m1,m2) {
# create outcome data for group
outcome1 <- rnorm(n, m1, sd = 1)
outcome2 <- rnorm(n, m2, sd = 1)
# combine both of these groups into a single vector
outcome <- c(outcome1,outcome2)
# create grouping variable
group1 <- rep("control", n)
group2 <- rep("treatment", n)
group <- c(group1, group2)
# combine into data frame
data <- data.frame(group,outcome)
# run a t-test
test <- t.test(data$outcome ~ data$group)
# get the values from t-test
pval <- test$p.value
is_sig <- test$p.value < 0.05
data.frame(pval, is_sig)
}
sim_data(n, m1, m2)
# create an empty list for the results
results_data <- list()
# run the simulation
for(i in 1:1000) {
simdata <-  sim_data(n,m1,m2)
results_data[[i]] <- simdata
}
#bind the rows
results_data <- bind_rows(results_data)
# what proportion were significant?
mean(results_data$is_sig)
n <- 10 # number of p per group
m1 <- 20 # mean g1
m2 <- 30 # mean g2
sim_data <- function(n,m1,m2) {
# create outcome data for group
outcome1 <- rnorm(n, m1, sd = 1)
outcome2 <- rnorm(n, m2, sd = 1)
# combine both of these groups into a single vector
outcome <- c(outcome1,outcome2)
# create grouping variable
group1 <- rep("control", n)
group2 <- rep("treatment", n)
group <- c(group1, group2)
# combine into data frame
data <- data.frame(group,outcome)
# run a t-test
test <- t.test(data$outcome ~ data$group)
# get the values from t-test
pval <- test$p.value
is_sig <- test$p.value < 0.05
data.frame(pval, is_sig)
}
sim_data(n, m1, m2)
# create an empty list for the results
results_data <- list()
# run the simulation
for(i in 1:1000) {
simdata <-  sim_data(n,m1,m2)
results_data[[i]] <- simdata
}
#bind the rows
results_data <- bind_rows(results_data)
# what proportion were significant?
mean(results_data$is_sig)
n <- 20 # number of p per group
m1 <- 20 # mean g1
m2 <- 30 # mean g2
sim_data <- function(n,m1,m2) {
# create outcome data for group
outcome1 <- rnorm(n, m1, sd = 1.5)
outcome2 <- rnorm(n, m2, sd = 1)
# combine both of these groups into a single vector
outcome <- c(outcome1,outcome2)
# create grouping variable
group1 <- rep("control", n)
group2 <- rep("treatment", n)
group <- c(group1, group2)
# combine into data frame
data <- data.frame(group,outcome)
# run a t-test
test <- t.test(data$outcome ~ data$group)
# get the values from t-test
pval <- test$p.value
is_sig <- test$p.value < 0.05
data.frame(pval, is_sig)
}
sim_data(n, m1, m2)
# create an empty list for the results
results_data <- list()
# run the simulation
for(i in 1:1000) {
simdata <-  sim_data(n,m1,m2)
results_data[[i]] <- simdata
}
#bind the rows
results_data <- bind_rows(results_data)
# what proportion were significant?
mean(results_data$is_sig)
View(simdata)
View(results_data)
outcome1 <- rnorm(n, m1, sd = 1.5)
outcome2 <- rnorm(n, m2, sd = 1)
outcome <- c(outcome1,outcome2)
# create grouping variable
group1 <- rep("control", n)
group2 <- rep("treatment", n)
group <- c(group1, group2)
# combine into data frame
data <- data.frame(group,outcome)
library(effectsize)
cohens_d(outcome ~ group, data = data)
cohens_d(outcome ~ group, data = data, within = F)
?cohens_d
cohen.d
cohen.d(outcome ~ group, data = data, within = F)
View(data)
# simulate some data:
# 2 groups, treatment and control
# wellbeing outcome mesasure with different means
n <- 20 # number of p per group
m1 <- 27 # mean g1
m2 <- 30 # mean g2
sim_data <- function(n,m1,m2) {
# create outcome data for group
outcome1 <- rnorm(n, m1, sd = 1.5)
outcome2 <- rnorm(n, m2, sd = 1)
# combine both of these groups into a single vector
outcome <- c(outcome1,outcome2)
# create grouping variable
group1 <- rep("control", n)
group2 <- rep("treatment", n)
group <- c(group1, group2)
# combine into data frame
data <- data.frame(group,outcome)
# run a t-test
test <- t.test(data$outcome ~ data$group)
# get the values from t-test
pval <- test$p.value
is_sig <- test$p.value < 0.05
data.frame(pval, is_sig)
}
sim_data(n, m1, m2)
# create an empty list for the results
results_data <- list()
# run the simulation
for(i in 1:1000) {
simdata <-  sim_data(n,m1,m2)
results_data[[i]] <- simdata
}
#bind the rows
results_data <- bind_rows(results_data)
# what proportion were significant?
mean(results_data$is_sig)
#check the effect size
library(effectsize)
cohen.d(outcome ~ group, data = data, within = F)
# simulate some data:
# 2 groups, treatment and control
# wellbeing outcome mesasure with different means
n <- 20 # number of p per group
m1 <- 27 # mean g1
m2 <- 30 # mean g2
sim_data <- function(n,m1,m2) {
# create outcome data for group
outcome1 <- rnorm(n, m1, sd = 1.5)
outcome2 <- rnorm(n, m2, sd = 1.8)
# combine both of these groups into a single vector
outcome <- c(outcome1,outcome2)
# create grouping variable
group1 <- rep("control", n)
group2 <- rep("treatment", n)
group <- c(group1, group2)
# combine into data frame
data <- data.frame(group,outcome)
# run a t-test
test <- t.test(data$outcome ~ data$group)
# get the values from t-test
pval <- test$p.value
is_sig <- test$p.value < 0.05
data.frame(pval, is_sig)
}
sim_data(n, m1, m2)
# create an empty list for the results
results_data <- list()
# run the simulation
for(i in 1:1000) {
simdata <-  sim_data(n,m1,m2)
results_data[[i]] <- simdata
}
#bind the rows
results_data <- bind_rows(results_data)
# what proportion were significant?
mean(results_data$is_sig)
#check the effect size
library(effectsize)
cohen.d(outcome ~ group, data = data, within = F)
# simulate some data:
# 2 groups, treatment and control
# wellbeing outcome mesasure with different means
n <- 20 # number of p per group
m1 <- 29 # mean g1
m2 <- 30 # mean g2
sim_data <- function(n,m1,m2) {
# create outcome data for group
outcome1 <- rnorm(n, m1, sd = 1.5)
outcome2 <- rnorm(n, m2, sd = 1.8)
# combine both of these groups into a single vector
outcome <- c(outcome1,outcome2)
# create grouping variable
group1 <- rep("control", n)
group2 <- rep("treatment", n)
group <- c(group1, group2)
# combine into data frame
data <- data.frame(group,outcome)
# run a t-test
test <- t.test(data$outcome ~ data$group)
# get the values from t-test
pval <- test$p.value
is_sig <- test$p.value < 0.05
data.frame(pval, is_sig)
}
sim_data(n, m1, m2)
# create an empty list for the results
results_data <- list()
# run the simulation
for(i in 1:1000) {
simdata <-  sim_data(n,m1,m2)
results_data[[i]] <- simdata
}
#bind the rows
results_data <- bind_rows(results_data)
# what proportion were significant?
mean(results_data$is_sig)
#check the effect size
library(effectsize)
cohen.d(outcome ~ group, data = data, within = F)
mean(results_data$is_sig)
# simulate some data:
# 2 groups, treatment and control
# wellbeing outcome mesasure with different means
n <- 10 # number of p per group
m1 <- 29 # mean g1
m2 <- 30 # mean g2
sim_data <- function(n,m1,m2) {
# create outcome data for group
outcome1 <- rnorm(n, m1, sd = 1.5)
outcome2 <- rnorm(n, m2, sd = 1.8)
# combine both of these groups into a single vector
outcome <- c(outcome1,outcome2)
# create grouping variable
group1 <- rep("control", n)
group2 <- rep("treatment", n)
group <- c(group1, group2)
# combine into data frame
data <- data.frame(group,outcome)
# run a t-test
test <- t.test(data$outcome ~ data$group)
# get the values from t-test
pval <- test$p.value
is_sig <- test$p.value < 0.05
data.frame(pval, is_sig)
}
sim_data(n, m1, m2)
# create an empty list for the results
results_data <- list()
# run the simulation
for(i in 1:1000) {
simdata <-  sim_data(n,m1,m2)
results_data[[i]] <- simdata
}
#bind the rows
results_data <- bind_rows(results_data)
# what proportion were significant?
mean(results_data$is_sig)
#check the effect size
library(effectsize)
cohen.d(outcome ~ group, data = data, within = F)
outcome1 <- rnorm(n, m1, sd = 1.5)
outcome2 <- rnorm(n, m2, sd = 1.8)
outcome <- c(outcome1,outcome2)
group1 <- rep("control", n)
group2 <- rep("treatment", n)
group <- c(group1, group2)
data <- data.frame(group,outcome)
cohen.d(outcome ~ group, data = data, within = F)
n <- 20 # number of p per group
m1 <- 29 # mean g1
m2 <- 30 # mean g2
outcome1 <- rnorm(n, m1, sd = 1.5)
outcome2 <- rnorm(n, m2, sd = 1.8)
outcome <- c(outcome1,outcome2)
group1 <- rep("control", n)
group2 <- rep("treatment", n)
group <- c(group1, group2)
data <- data.frame(group,outcome)
cohen.d(outcome ~ group, data = data, within = F)
