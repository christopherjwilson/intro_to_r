outcome <- c(outcome1,outcome2)
group1 <- rep("control", n)
group2 <- rep("treatment", n)
group <- c(group1, group2)
data <- data.frame(group,outcome)
View(data)
mean(outcome1)
mean(outcome2)
test <- t.test(data$outcome ~ data$group)
test
pval <- test$p.value
is_sig <- test$p.value < 0.05
test$p.value
test
View(test)
sim_data <- function(n,m1,m2) {
# create outcome data for group
outcome1 <- rnorm(n, m1, sd = 1)
outcome2 <- rnorm(n, m2, sd = 1)
# combine both of these groups into a single vector
outcome <- c(outcome1,outcome2)
# create grouping variable
group1 <- rep("control", n)
group2 <- rep("treatment", n)
group <- c(group1, group2)
# combine into data frame
data <- data.frame(group,outcome)
# run a t-test
test <- t.test(data$outcome ~ data$group)
# get the values from t-test
pval <- test$p.value
is_sig <- test$p.value < 0.05
data.frame(pval, is_sig)
}
sim_data(n, m1, m2)
results_data <- list()
results_data <- list()
for(i in 1:100) {
sim_data(n,m1,m2)
results_data[[i]]
}
for(i in 1:10) {
sim_data(n,m1,m2)
results_data[[i]]
}
results_data <- list()
for(i in 1:100) {
simdata <-  sim_data(n,m1,m2)
results_data[[i]] <- simdata
}
results_data <- bind_rows(results_data)
View(results_data)
mean(results_data$is_sig)
for(i in 1:1000) {
simdata <-  sim_data(n,m1,m2)
results_data[[i]] <- simdata
}
results_data <- list()
for(i in 1:1000) {
simdata <-  sim_data(n,m1,m2)
results_data[[i]] <- simdata
}
#bind the rows
results_data <- bind_rows(results_data)
mean(results_data$is_sig)
View(results_data)
n <- 15 # number of p per group
m1 <- 20 # mean g1
m2 <- 30 # mean g2
sim_data <- function(n,m1,m2) {
# create outcome data for group
outcome1 <- rnorm(n, m1, sd = 1)
outcome2 <- rnorm(n, m2, sd = 1)
# combine both of these groups into a single vector
outcome <- c(outcome1,outcome2)
# create grouping variable
group1 <- rep("control", n)
group2 <- rep("treatment", n)
group <- c(group1, group2)
# combine into data frame
data <- data.frame(group,outcome)
# run a t-test
test <- t.test(data$outcome ~ data$group)
# get the values from t-test
pval <- test$p.value
is_sig <- test$p.value < 0.05
data.frame(pval, is_sig)
}
sim_data(n, m1, m2)
# create an empty list for the results
results_data <- list()
# run the simulation
for(i in 1:1000) {
simdata <-  sim_data(n,m1,m2)
results_data[[i]] <- simdata
}
#bind the rows
results_data <- bind_rows(results_data)
# what proportion were significant?
mean(results_data$is_sig)
n <- 10 # number of p per group
m1 <- 20 # mean g1
m2 <- 30 # mean g2
sim_data <- function(n,m1,m2) {
# create outcome data for group
outcome1 <- rnorm(n, m1, sd = 1)
outcome2 <- rnorm(n, m2, sd = 1)
# combine both of these groups into a single vector
outcome <- c(outcome1,outcome2)
# create grouping variable
group1 <- rep("control", n)
group2 <- rep("treatment", n)
group <- c(group1, group2)
# combine into data frame
data <- data.frame(group,outcome)
# run a t-test
test <- t.test(data$outcome ~ data$group)
# get the values from t-test
pval <- test$p.value
is_sig <- test$p.value < 0.05
data.frame(pval, is_sig)
}
sim_data(n, m1, m2)
# create an empty list for the results
results_data <- list()
# run the simulation
for(i in 1:1000) {
simdata <-  sim_data(n,m1,m2)
results_data[[i]] <- simdata
}
#bind the rows
results_data <- bind_rows(results_data)
# what proportion were significant?
mean(results_data$is_sig)
n <- 20 # number of p per group
m1 <- 20 # mean g1
m2 <- 30 # mean g2
sim_data <- function(n,m1,m2) {
# create outcome data for group
outcome1 <- rnorm(n, m1, sd = 1.5)
outcome2 <- rnorm(n, m2, sd = 1)
# combine both of these groups into a single vector
outcome <- c(outcome1,outcome2)
# create grouping variable
group1 <- rep("control", n)
group2 <- rep("treatment", n)
group <- c(group1, group2)
# combine into data frame
data <- data.frame(group,outcome)
# run a t-test
test <- t.test(data$outcome ~ data$group)
# get the values from t-test
pval <- test$p.value
is_sig <- test$p.value < 0.05
data.frame(pval, is_sig)
}
sim_data(n, m1, m2)
# create an empty list for the results
results_data <- list()
# run the simulation
for(i in 1:1000) {
simdata <-  sim_data(n,m1,m2)
results_data[[i]] <- simdata
}
#bind the rows
results_data <- bind_rows(results_data)
# what proportion were significant?
mean(results_data$is_sig)
View(simdata)
View(results_data)
outcome1 <- rnorm(n, m1, sd = 1.5)
outcome2 <- rnorm(n, m2, sd = 1)
outcome <- c(outcome1,outcome2)
# create grouping variable
group1 <- rep("control", n)
group2 <- rep("treatment", n)
group <- c(group1, group2)
# combine into data frame
data <- data.frame(group,outcome)
library(effectsize)
cohens_d(outcome ~ group, data = data)
cohens_d(outcome ~ group, data = data, within = F)
?cohens_d
cohen.d
cohen.d(outcome ~ group, data = data, within = F)
View(data)
# simulate some data:
# 2 groups, treatment and control
# wellbeing outcome mesasure with different means
n <- 20 # number of p per group
m1 <- 27 # mean g1
m2 <- 30 # mean g2
sim_data <- function(n,m1,m2) {
# create outcome data for group
outcome1 <- rnorm(n, m1, sd = 1.5)
outcome2 <- rnorm(n, m2, sd = 1)
# combine both of these groups into a single vector
outcome <- c(outcome1,outcome2)
# create grouping variable
group1 <- rep("control", n)
group2 <- rep("treatment", n)
group <- c(group1, group2)
# combine into data frame
data <- data.frame(group,outcome)
# run a t-test
test <- t.test(data$outcome ~ data$group)
# get the values from t-test
pval <- test$p.value
is_sig <- test$p.value < 0.05
data.frame(pval, is_sig)
}
sim_data(n, m1, m2)
# create an empty list for the results
results_data <- list()
# run the simulation
for(i in 1:1000) {
simdata <-  sim_data(n,m1,m2)
results_data[[i]] <- simdata
}
#bind the rows
results_data <- bind_rows(results_data)
# what proportion were significant?
mean(results_data$is_sig)
#check the effect size
library(effectsize)
cohen.d(outcome ~ group, data = data, within = F)
# simulate some data:
# 2 groups, treatment and control
# wellbeing outcome mesasure with different means
n <- 20 # number of p per group
m1 <- 27 # mean g1
m2 <- 30 # mean g2
sim_data <- function(n,m1,m2) {
# create outcome data for group
outcome1 <- rnorm(n, m1, sd = 1.5)
outcome2 <- rnorm(n, m2, sd = 1.8)
# combine both of these groups into a single vector
outcome <- c(outcome1,outcome2)
# create grouping variable
group1 <- rep("control", n)
group2 <- rep("treatment", n)
group <- c(group1, group2)
# combine into data frame
data <- data.frame(group,outcome)
# run a t-test
test <- t.test(data$outcome ~ data$group)
# get the values from t-test
pval <- test$p.value
is_sig <- test$p.value < 0.05
data.frame(pval, is_sig)
}
sim_data(n, m1, m2)
# create an empty list for the results
results_data <- list()
# run the simulation
for(i in 1:1000) {
simdata <-  sim_data(n,m1,m2)
results_data[[i]] <- simdata
}
#bind the rows
results_data <- bind_rows(results_data)
# what proportion were significant?
mean(results_data$is_sig)
#check the effect size
library(effectsize)
cohen.d(outcome ~ group, data = data, within = F)
# simulate some data:
# 2 groups, treatment and control
# wellbeing outcome mesasure with different means
n <- 20 # number of p per group
m1 <- 29 # mean g1
m2 <- 30 # mean g2
sim_data <- function(n,m1,m2) {
# create outcome data for group
outcome1 <- rnorm(n, m1, sd = 1.5)
outcome2 <- rnorm(n, m2, sd = 1.8)
# combine both of these groups into a single vector
outcome <- c(outcome1,outcome2)
# create grouping variable
group1 <- rep("control", n)
group2 <- rep("treatment", n)
group <- c(group1, group2)
# combine into data frame
data <- data.frame(group,outcome)
# run a t-test
test <- t.test(data$outcome ~ data$group)
# get the values from t-test
pval <- test$p.value
is_sig <- test$p.value < 0.05
data.frame(pval, is_sig)
}
sim_data(n, m1, m2)
# create an empty list for the results
results_data <- list()
# run the simulation
for(i in 1:1000) {
simdata <-  sim_data(n,m1,m2)
results_data[[i]] <- simdata
}
#bind the rows
results_data <- bind_rows(results_data)
# what proportion were significant?
mean(results_data$is_sig)
#check the effect size
library(effectsize)
cohen.d(outcome ~ group, data = data, within = F)
mean(results_data$is_sig)
# simulate some data:
# 2 groups, treatment and control
# wellbeing outcome mesasure with different means
n <- 10 # number of p per group
m1 <- 29 # mean g1
m2 <- 30 # mean g2
sim_data <- function(n,m1,m2) {
# create outcome data for group
outcome1 <- rnorm(n, m1, sd = 1.5)
outcome2 <- rnorm(n, m2, sd = 1.8)
# combine both of these groups into a single vector
outcome <- c(outcome1,outcome2)
# create grouping variable
group1 <- rep("control", n)
group2 <- rep("treatment", n)
group <- c(group1, group2)
# combine into data frame
data <- data.frame(group,outcome)
# run a t-test
test <- t.test(data$outcome ~ data$group)
# get the values from t-test
pval <- test$p.value
is_sig <- test$p.value < 0.05
data.frame(pval, is_sig)
}
sim_data(n, m1, m2)
# create an empty list for the results
results_data <- list()
# run the simulation
for(i in 1:1000) {
simdata <-  sim_data(n,m1,m2)
results_data[[i]] <- simdata
}
#bind the rows
results_data <- bind_rows(results_data)
# what proportion were significant?
mean(results_data$is_sig)
#check the effect size
library(effectsize)
cohen.d(outcome ~ group, data = data, within = F)
outcome1 <- rnorm(n, m1, sd = 1.5)
outcome2 <- rnorm(n, m2, sd = 1.8)
outcome <- c(outcome1,outcome2)
group1 <- rep("control", n)
group2 <- rep("treatment", n)
group <- c(group1, group2)
data <- data.frame(group,outcome)
cohen.d(outcome ~ group, data = data, within = F)
n <- 20 # number of p per group
m1 <- 29 # mean g1
m2 <- 30 # mean g2
outcome1 <- rnorm(n, m1, sd = 1.5)
outcome2 <- rnorm(n, m2, sd = 1.8)
outcome <- c(outcome1,outcome2)
group1 <- rep("control", n)
group2 <- rep("treatment", n)
group <- c(group1, group2)
data <- data.frame(group,outcome)
cohen.d(outcome ~ group, data = data, within = F)
knitr::opts_chunk$set(
fig.align = "center"
)
#| out-width: 100%
#| out-height: 100%
# add a horizontal line to the plot at the intercept value
p + geom_hline(yintercept = mean(y), linetype = "dashed", color = "red")
knitr::opts_chunk$set(
fig.align = "center"
)
#| out-width: 100%
#| out-height: 100%
#| fig-align: center
# generate two continuous variables and plot them using ggplot Label the x variable AttentionalBias and the y variable Anxiety
set.seed(123)
library(ggplot2)
x <- rnorm(100, 10, 2)
y <- x + rnorm(100, 2, 3)
df <- data.frame(x, y)
lm <- lm(y ~ x, data = df)
p = ggplot(lm, aes(x = x, y = y)) + geom_point()
# now fit a linear model to the data and add the intercept value to the plot
intercept <- lm$coefficients[1]
# add the regression line to the plot with a confidence interval
p <- p +   geom_smooth(method = "lm", se = FALSE, color = "lightgrey")
p <- p + labs(x = "Attentional bias", y = "Anxiety")
p
# draw a line between the data points and the regression line
p + geom_segment(aes(xend = x, yend = .fitted, color = "red"), alpha = 0.5) + guides(color = FALSE)
#| out-width: 100%
#| out-height: 100%
# add a horizontal line to the plot at the intercept value
p + geom_hline(yintercept = mean(y), linetype = "dashed", color = "red")
library(readr)
practical3_data <- read_csv("C:/Users/wilso/Downloads/practical3_data.csv")
View(practical3_data)
model <- lm(avoidance ~ depression, data= practical3_data)
plot(model)
summary(model)
model2 <-  lm(avoidance ~ treatment, data= practical3_data)
summary(model2)
model2 <-  lm(depression ~ treatment, data= practical3_data)
summary(model2)
library(readr)
practical4_data <- read_csv("practicals/practical4_data.csv")
View(practical4_data)
model0 <- lm(wellbeing_after_3_months ~ 1, data = practical4_data)
model1 <- lm(wellbeing_after_3_months ~ treatment_group + level_of_severity, data = practical4_data)
model2 <- lm(wellbeing_after_3_months ~ treatment_group + level_of_severity + trust_score, data = practical4_data)
model_comp <- anova(model0, model1, model2)
model_aic <- AIC(model0, model1, model2)
library(sjPlot)
tab_model(model0, model1, model2,
show.ci = FALSE,
show.se = TRUE,
show.stat = TRUE,
p.style = "stars",
dv.labels = c("Model 0", "Model 1", "Model 2"),
title = "Regression Models Predicting Wellbeing After 3 Months",
file = "model_comparison.html")
tab_model(model0, model1, model2,
show.ci = FALSE,
show.se = TRUE,
show.stat = TRUE,
p.style = "stars",
dv.labels = c("Model 0", "Model 1", "Model 2"),
title = "Regression Models Predicting Wellbeing After 3 Months",
file = "model_comparison.html")
library(sjPlot)
library(sjmisc)
library(sjlabelled)
tab_model(model0, model1, model2,
show.ci = FALSE,
show.se = TRUE,
show.stat = TRUE,
p.style = "stars",
dv.labels = c("Model 0", "Model 1", "Model 2"),
title = "Regression Models Predicting Wellbeing After 3 Months",
file = "model_comparison.html")
model0 <- lm(wellbeing_after_3_months ~ 1, data = practical4_data)
model1 <- lm(wellbeing_after_3_months ~ treatment_group + level_of_severity, data = practical4_data)
model2 <- lm(wellbeing_after_3_months ~ treatment_group + level_of_severity + trust_score, data = practical4_data)
model_comp <- anova(model0, model1, model2)
model_aic <- AIC(model0, model1, model2)
library(sjPlot)
library(sjmisc)
library(sjlabelled)
tab_model(model0, model1, model2,
show.ci = FALSE,
show.se = TRUE,
show.stat = TRUE,
p.style = "stars",
dv.labels = c("Model 0", "Model 1", "Model 2"),
title = "Regression Models Predicting Wellbeing After 3 Months",
file = "model_comparison.html")
model_comp
tab_model(model1)
tab_model(model0, model1)
tab_model(model0, model1, model2)
tab_model(model0, model1, model2,
show.stat = TRUE,
title = "Regression Models Predicting Wellbeing After 3 Months"
)
setwd("~/GitHub/intro_to_r/slides")
model_table
library(dplyr)
example_data <- read.csv("Datasets/regression_data.csv")
model0 <- lm(aggression_level ~ 1, data = example_data)
model1 <- lm(aggression_level ~ treatment_group + treatment_duration, data = example_data)
model2 <- lm(aggression_level ~ treatment_group + treatment_duration + trust_score, data = example_data)
library(sjPlot)
model_table <- tab_model(model0, model1, model2)
model_table
setwd("R:/GitHub/intro_to_r/slides")
library(tidyverse)
raq <- read_table2("Datasets/raq.csv")
library(psych)
library(tidyverse)
library(corrplot)
View(raq)
library(psych)
library(tidyverse)
library(corrplot)
raqMatrix <- cor(raq)
raq
raqMatrix
corrplot(raqMatrix)
corrplot(raqMatrix, method = "number")
cortest.bartlett(raqMatrix, n=2571)
det(raqMatrix)
det(raqMatrix)
KMO(raq)
scree(raq)
scree(raq)
parallel_anlysis <- fa.parallel(raq)
paf <- fa(raq, nfactors = 6, fm="pa", max.iter = 100, rotate = "none")
paf
paf_2 <- fa(raq, nfactors = 4, fm="pa", max.iter = 100, rotate = "none")
paf_2
paf_2 <- fa(raq, nfactors = 4, fm="pa", max.iter = 100, rotate = "oblimin")
paf_2
plot(paf_2)
paf_2 <- fa(raq, nfactors = 4, fm="pa", max.iter = 100, rotate = "oblimin")
plot(paf_2)
print(paf_2$loadings, cutoff = 0.32, sort = TRUE)
print(paf_2$loadings, sort = TRUE, cutoff = 0.32)
