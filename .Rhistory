# Print the result
summary(anova_result)
# This example uses the mtcars dataset, which is a built-in dataset in R that contains data on various car models.
# Load the mtcars dataset
data(mtcars)
# Factorial ANOVA example: Is there an interaction effect between the number of cylinders and the type of transmission on fuel efficiency?
# Perform the factorial ANOVA
factorial_anova_result <- aov(mpg ~ cyl * am, data = mtcars)
# Print the result
summary(factorial_anova_result)
# Calculate Cohen's d
# Group 1
mean1 <- 10
sd1 <- 2
n1 <- 30
# Group 2
mean2 <- 12
sd2 <- 3
n2 <- 30
# Calculate pooled standard deviation
sp <- sqrt(((n1 - 1) * sd1^2 + (n2 - 1) * sd2^2) / (n1 + n2 - 2))
# Calculate Cohen's d
d <- (mean1 - mean2) / sp
d
# Load the pwr package
library(pwr)
# Calculate the sample size required for a t-test
# using the d value calculated earlier
pwr.t.test(d = d, sig.level = 0.05, power = 0.80)
data(sleep)
force(sleep)
View(sleep)
data(sleep)
View(sleep)
View(sleep)
t.test(sleep$extra ~ sleep$group, paired = TRUE)
data(mtcars)
force(mtcars)
View(mtcars)
t.test(mtcars$mpg ~ mtcars$am)
View(mtcars)
contingency_table <- table(mtcars$cyl, mtcars$am)
contingency_table
chisq.test(contingency_table)
data(mtcars)
View(mtcars)
plot(mtcars$mpg, mtcars$hp)
cor.test(mtcars$mpg, mtcars$hp)
<iframe src="https://teesside.cloud.panopto.eu/Panopto/Pages/Embed.aspx?id=decadcc4-5bec-47b9-bc86-b1f000f4d0dc&autoplay=false&offerviewer=true&showtitle=true&showbrand=true&captions=false&interactivity=all" height="338" width="600" style="border: 1px solid #464646;" allowfullscreen allow="autoplay" aria-label="Panopto Embedded Video Player" aria-description="Correlation in R" ></iframe>
View(mtcars)
anova_result <- aov(mpg ~ cyl, data = mtcars)
summary(anova_result)
anova_result <- aov(mpg ~ as.factor(cyl), data = mtcars)
summary(anova_result)
data(mtcars)
View(mtcars)
mtcars$cyl <- as.factor(mtcars$cyl)
aov(mtcars$mpg ~ mtcars$cyl)
anova_result <- aov(mtcars$mpg ~ mtcars$cyl)
summary(anova_result)
knitr::opts_chunk$set(
fig.align = "center"
)
# Generate some data for a non-linear relationship
set.seed(123)
x <- 1:100
y <- x^2 + rnorm(100, 0, 100)
df <- data.frame(x, y)
#plot the data and show the line of best fit
p <- ggplot(df, aes(x = x, y = y)) + geom_point()
# Generate some data for a non-linear relationship
set.seed(123)
x <- 1:100
y <- x^2 + rnorm(100, 0, 100)
df <- data.frame(x, y)
#plot the data and show the line of best fit
library(ggplot2)
p <- ggplot(df, aes(x = x, y = y)) + geom_point()
lm <- lm(y ~ x, data = df)
p <- p + geom_smooth(method = "lm", se = FALSE, color = "lightgrey")
p
# Generate some data for a non-linear relationship
set.seed(123)
x <- 1:100
y <- x^2 + rnorm(100, 0, 100)
df <- data.frame(x, y)
#plot the data and show the line of best fit
library(ggplot2)
p <- ggplot(df, aes(x = x, y = y)) + geom_point()
lm <- lm(y ~ x, data = df)
p <- p + geom_smooth(method = "lm", se = FALSE, color = "lightgrey")
## now plot a polynomial regression line
lm2 <- lm(y ~ poly(x, 2), data = df)
p <- p + geom_smooth(method = "lm", se = FALSE, color = "red", formula = lm2$call)
p
# Generate some data for a non-linear relationship
set.seed(123)
x <- 1:100
y <- x^2 + rnorm(100, 0, 100)
df <- data.frame(x, y)
#plot the data and show the line of best fit
library(ggplot2)
p <- ggplot(df, aes(x = x, y = y)) + geom_point()
lm <- lm(y ~ x, data = df)
p <- p + geom_smooth(method = "lm", se = FALSE, color = "lightgrey")
## now plot a polynomial regression line
lm2 <- lm(y ~ poly(x, 2), data = df)
q <- p + geom_smooth(method = "lm", se = FALSE, color = "red", formula = lm2$call)
p
q
# Generate some data for a non-linear relationship
set.seed(123)
x <- 1:100
y <- x^2 + rnorm(100, 0, 100)
df <- data.frame(x, y)
#plot the data and show the line of best fit
library(ggplot2)
p <- ggplot(df, aes(x = x, y = y)) + geom_point()
lm <- lm(y ~ x, data = df)
r <- p + geom_smooth(method = "lm", se = FALSE, color = "lightgrey")
## now plot a polynomial regression line
lm2 <- lm(y ~ poly(x, 2), data = df)
q <- p + geom_smooth(method = "lm", se = FALSE, color = "red", formula = lm2$call)
r
q
# Generate some data for a non-linear relationship
set.seed(123)
x <- 1:100
y <- x^2 + rnorm(100, 0, 100)
df <- data.frame(x, y)
#plot the data and show the line of best fit
library(ggplot2)
p <- ggplot(df, aes(x = x, y = y)) + geom_point()
lm <- lm(y ~ x, data = df)
r <- p + geom_smooth(method = "lm", se = FALSE, color = "lightgrey")
## now plot a polynomial regression line
lm2 <- lm(y ~ poly(x, 2), data = df)
q <- p + geom_smooth(method = "lm", se = FALSE, color = "red", formula = y ~ poly(x, 2))
r
q
setwd("~/GitHub/aprm23/docs/slides")
setwd("~/GitHub/intro_to_r")
setwd("~/GitHub/intro_to_r/examples")
my_data <- read.csv(album_sales.csv)
ls
getwd()
my_data <- read.csv(album_sales.csv)
list.files(getwd())
library(readr)
album_sales <- read_csv("album_sales.csv")
View(album_sales)
my_data <- read_csv(album_sales.csv)
my_data <- read_csv("album_sales.csv")
my_data <- read.csv("album_sales.csv")
my_data <- read.csv("album_sales.csv")
knitr::opts_chunk$set(echo = TRUE, fig.align="center")
library(tidyverse)
regression_data <- read.csv("Datasets/regression_data.csv")
# data for a strong positive correlation
x <- c(1,2,3,4,5,6,7,8,9,10)
y <- c(2,4,6,8,10,12,14,16,18,20)
# data for a strong negative correlation
x2 <- c(1,2,3,4,5,6,7,8,9,10)
y2 <- c(20,18,16,14,12,10,8,6,4,2)
# data for a weak correlation
x3 <- c(1,2,3,4,5,6,7,8,9,10)
y3 <- c(2,4,6,8,10,12,14,16,18,20)
# plot the data
par(mfrow=c(1,3))
plot(x,y, main="Strong positive correlation", xlab="X", ylab="Y")
plot(x2,y2, main="Strong negative correlation", xlab="X", ylab="Y")
plot(x3,y3, main="Weak correlation", xlab="X", ylab="Y")
# data for a strong positive correlation (n = 100)
x <- rnorm(100, mean = 50, sd = 10)
y <- x + rnorm(100, mean = 0, sd = 5)
# data for a strong negative correlation (n = 100)
x2 <- rnorm(100, mean = 50, sd = 10)
y2 <- -x2 + rnorm(100, mean = 0, sd = 5)
# data for a weak correlation (n = 100)
x3 <- rnorm(100, mean = 50, sd = 10)
y3 <- rnorm(100, mean = 10, sd = 100)
# plot the data
par(mfrow=c(1,3))
plot(x,y, main="Strong positive correlation", xlab="X", ylab="Y")
plot(x2,y2, main="Strong negative correlation", xlab="X", ylab="Y")
plot(x3,y3, main="Weak correlation", xlab="X", ylab="Y")
bookdown:::serve_book()
data <- read.csv("practical1_data.csv")
data <- read.csv("practical1_data.csv")
setwd("~/GitHub/intro_to_r")
setwd("~/GitHub/intro_to_r/examples")
data <- read.csv("practical1_data.csv")
View(data)
mean(data$age)
sd(age)
sd(data$age)
setwd("~/GitHub/intro_to_r/examples")
2 + 67
2 + 65
# add 2 numbers together
2 + 65
add 2 numbers together
result  <-  2 + 65
result * 2
result * 2
result  <-  2 + 67
result * 2
rm(result)
result      <-           2 + 67
rm(result  )
ages <- c(23,45,67,13)
ages <- ages * 2
mean(ages)
sd(ages)
library(readr)
practical1_data <- read_csv("practical1_data.csv")
View(practical1_data)
# import data
library(readr)
practical1_data <- read_csv("practical1_data.csv")
View(practical1_data)
practical3_data <- read_csv("docs/practicals/practical3_data.csv")
library(readr)
practical3_data <- read_csv("docs/practicals/practical3_data.csv")
View(practical3_data)
model <- lm(avoidance ~ depression, data = practical3_data)
plot(model)
summary(model)
model2 <- lm(depression ~ treatment, data = practical3_data)
summary(model2)
setwd("~/GitHub/intro_to_r/examples")
setwd("~/GitHub/intro_to_r")
data(mtcars)
force(mtcars)
data(mtcars)
force(mtcars)
plot(mtcars$mpg, mtcars$hp)
cor.test(mtcars$mpg, mtcars$hp)
hist(mtcars$mpg)
hist(mtcars$hp)
cor.test(mtcars$mpg, mtcars$hp, "spearman")
cor.test(mtcars$mpg, mtcars$hp, method ="spearman")
setwd("~/GitHub/intro_to_r/examples")
data(mtcars)
force(mtcars)
plot(mtcars$mpg, mtcars$hp)
cor.test(mtcars$mpg, mtcars$hp)
hist(mtcars$mpg)
hist(mtcars$hp)
hist(mtcars$mpg)
cor.test(mtcars$mpg, mtcars$hp, method ="spearman")
setwd("~/GitHub/intro_to_r")
bookdown:::serve_book()
#plot the data
plot(mtcars$mpg, mtcars$hp)
#plot the data
plot(mtcars$hp, mtcars$mpg)
# use ggplot to plot the data and add a regression line
library(ggplot2)
ggplot(mtcars, aes(x=hp, y=mpg)) + geom_point() + geom_smooth(method="lm")
AIC(model)
model <- lm(mpg ~ hp, data=mtcars)
plot(model)
AIC(model)
BIC(model)
#load the data
data(mtcars)
force(mtcars)
plot(mtcars$hp, mtcars$mpg)
# use ggplot to plot the data and add a regression line
library(ggplot2)
ggplot(mtcars, aes(x=hp, y=mpg)) + geom_point() + geom_smooth(method="lm")
model <- lm(mpg ~ hp, data=mtcars)
summary(model)
plot(model)
AIC(model)
BIC(model)
knitr::opts_chunk$set(echo = TRUE, fig.align="center")
library(tidyverse)
regression_data <- read.csv("Datasets/regression_data.csv")
View(regression_data)
View(regression_data)
# specify the reference level - this is more useful when we have more than 2 levels
regression_data$treatment <- relevel(regression_data$treatment, ref = "therapy1") #<1>
# specify the reference level - this is more useful when we have more than 2 levels
regression_data$treatment <- as.factor(regression_data$treatment) #<0>
regression_data$treatment <- as.factor(regression_data$treatment) #<0>
regression_data$treatment <- relevel(regression_data$treatment_group, ref = "therapy1") #<1>
regression_data$treatment <- as.factor(regression_data$treatment_group) #<0>
regression_data$treatment <- relevel(regression_data$treatment_group, ref = "therapy1") #<1>
regression_data$treatment_group <- as.factor(regression_data$treatment_group) #<0>
regression_data$treatment <- relevel(regression_data$treatment_group, ref = "therapy1") #<1>
regression_model2 <- lm(depression ~ treatment_group, data = regression_data) #<2>
regression_model2 <- lm(agression_level ~ treatment_group, data = regression_data) #<2>
regression_model2 <- lm(aggression_level ~ treatment_group, data = regression_data) #<2>
summary(regression_model2) #<3>
# Load the mtcars dataset
data(mtcars)
# Convert the cyl variable to a factor variable
mtcars$cyl <- as.factor(mtcars$cyl)
# Fit a regression model with the cyl variable as the predictor variable
regression_model3 <- lm(mpg ~ cyl, data = mtcars) #<1>
# Summary of the model
summary(regression_model3) #<2>
# Compare the levels of the predictor variable
library(emmeans)
emmeans(regression_model3, "cyl") #<3>
# Load the mtcars dataset
data(mtcars)
# Convert the cyl variable to a factor variable
mtcars$cyl <- as.factor(mtcars$cyl)
# Fit a regression model with the cyl variable as the predictor variable
regression_model3 <- lm(mpg ~ cyl, data = mtcars) #<1>
# Summary of the model
summary(regression_model3) #<2>
# Compare the levels of the predictor variable with pairwise comparisons
library(emmeans)
emmeans(regression_model3, pairwise ~ cyl) #<3>
data(mtcars)
force(mtcars)
View(mtcars)
mtcars$cyl <- as.factor(mtcars$cyl)
model <- lm(mpg ~ cyl, data=mtcars)
summary(model)
emmeans(model, "cyl")
emmeans <- emmeans(model, "cyl")
pairs(emmeans)
emmip(model, cyl ~ mpg)
emmip(model, cyl)
emmip(model)
library(DiagrammeR)
grViz("
digraph {
rankdir="LR"
library(DiagrammeR)
grViz("
digraph {
rankdir='LR'
Selfesteem -> Depression
Loneliness -> Depression
Stress -> Depression
Gender -> Depression
Age -> Depression
")
}
library(DiagrammeR)
grViz("
digraph {
rankdir='LR'
Selfesteem -> Depression
Loneliness -> Depression
Stress -> Depression
Gender -> Depression
Age -> Depression
")
library(DiagrammeR)
grViz("
digraph {
rankdir='LR'
Selfesteem -> Depression
Loneliness -> Depression
Stress -> Depression
Gender -> Depression
Age -> Depression}
")
# same plot as above, but in dot format
grViz("
digraph {
rankdir="TB"
# same plot as above, but in dot format
grViz("
digraph {
rankdir='TB'
subgraph cluster_0 {
label = 'Model 1'
gender -> depression
age -> depression
}
subgraph cluster_1 {
label = 'Model 2'
gender -> depression
age -> depression
stress -> depression
loneliness -> depression
}
subgraph cluster_2 {
label = 'Model 3'
gender -> depression
age -> depression
stress -> depression
loneliness -> depression
selfesteem -> depression
}
} ")
# same plot as above, but in dot format
grViz("
digraph {
rankdir='TB'
subgraph cluster_0 {
label = 'Model 1'
gender -> depression
age -> depression
}
subgraph cluster_1 {
label = 'Model 2'
gender -> depression
age -> depression
stress -> depression
loneliness -> depression
}
subgraph cluster_2 {
label = 'Model 3'
gender -> depression
age -> depression
stress -> depression
loneliness -> depression
selfesteem -> depression
}
} ")
# same plot as above, but in dot format
grViz("
digraph {
rankdir='TB'
subgraph cluster_0 {
label = 'Model 1'
gender -> depression
age -> depression
}
subgraph cluster_1 {
label = 'Model 2'
gender -> depression
age -> depression
stress -> depression
loneliness -> depression
}
subgraph cluster_2 {
label = 'Model 3'
gender -> depression
age -> depression
stress -> depression
loneliness -> depression
selfesteem -> depression
}
} ")
library(DiagrammeR)
graph1 <- grViz("
digraph {
rankdir='LR'
Selfesteem -> Depression
Loneliness -> Depression
Stress -> Depression
Gender -> Depression
Age -> Depression}
")
render_graph(graph1)
library(DiagrammeR)
graph1 <- grViz("
digraph {
rankdir='LR'
Selfesteem -> Depression
Loneliness -> Depression
Stress -> Depression
Gender -> Depression
Age -> Depression
}
")
render_graph(graph1)
library(DiagrammeR)
graph1 <- grViz("
digraph {
rankdir="LR"
library(DiagrammeR)
graph1 <- grViz('
digraph {
rankdir="LR"
Selfesteem -> Depression
Loneliness -> Depression
Stress -> Depression
Gender -> Depression
Age -> Depression
}
')
render_graph(graph1)
library(readr)
practical4_data <- read_csv("docs/practicals/practical4_data.csv")
View(practical4_data)
model0 <- lm(data = practical4_data, wellbeing_after_3_months ~ 1)
model1 <- lm(data = practical4_data, wellbeing_after_3_months ~ level_of_severity + treatment_group)
model2 <- lm(data = practical4_data, wellbeing_after_3_months ~ level_of_severity + treatment_group +trust_score)
anova(model0, model1, model2)
summary(model2)
AIC(model1,model2)
AIC(model0,model1,model2)
plot(model1)
library(dplyr)
practical4_data |>
summarise(mean(trust_score))
practical4_data |>
group_by(treatment_group) |>
summarise(mean(trust_score))
practical4_data |>
group_by(treatment_group) |>
summarise(mean(trust_score), mean(wellbeing_after_3_months))
practical4_data |>
group_by(treatment_group) |>
summarise(mean(trust_score), mean(wellbeing_after_3_months))
practical4_data |>
group_by(treatment_group) |>
summarise(mean-ts = mean(trust_score), mean(wellbeing_after_3_months))
practical4_data |>
group_by(treatment_group) |>
summarise(mean_ts = mean(trust_score), mean(wellbeing_after_3_months))
